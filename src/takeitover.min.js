// Developed by Casper Panduro
!function(t){t.fn.takeitover=function(e){function o(){var e=t(n.contentSelector)
e.animate({top:"100px",opacity:0},n.speed/2,function(){t(this).hide()}),t(".takeitover-closebtn").animate({opacity:0},n.speed/2,function(){t(this).hide()}),setTimeout(function(){t("body").css({"overflow-y":"scroll",height:"auto"}),e.next(n.contentSelector).show(),t(".takeitover-overlay").animate({opacity:0},n.speed,function(){t(this).hide()})},n.speed/2)}t("body.takeitover-noscroll").css({"overflow-y":"hidden",height:"100%"})
var n=t.extend({speed:500,easing:!1,elementSelector:".takeitover-trigger",contentSelector:".takeitover-content",background:"rgba(255,255,255,0.95)",clickOnOverlay:!0,closeButton:!0,buttonColor:"black",callback:null},e)
t(n.elementSelector).css({cursor:"pointer"}),t(n.contentSelector).hide().css({position:"fixed",top:"100px",left:"0px",width:"100%",height:"100%","overflow-y":"scroll","z-index":999999,opacity:0,"-webkit-overflow-scrolling":"touch"}),t("body").append('<div class="takeitover-overlay" style="background: '+n.background+'"></div>'),t(".takeitover-overlay").css({position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",display:"none",opacity:"0","z-index":"99999"}),1==n.closeButton&&(t("body").append('<div class="takeitover-closebtn"><span class="first"></span><span class="last"></span></div>'),t(".takeitover-closebtn").css({position:"fixed",top:"30px",right:"30px","z-index":9999999,width:30,height:30,opacity:0,cursor:"pointer"}).hide(),t(".takeitover-closebtn span").eq(0).css({position:"absolute",top:"50%",left:"0px",height:"2px",width:"100%",display:"block",background:n.buttonColor,transform:"translateY(-50%) rotate(-45deg)","-webkit-transform":"translateY(-50%) rotate(-45deg)","-ms-transform":"translateY(-50%) rotate(-45deg)"}),t(".takeitover-closebtn span").eq(1).css({position:"absolute",top:"50%",left:"0px",height:"2px",width:"100%",display:"block",background:n.buttonColor,transform:"translateY(-50%) rotate(45deg)","-webkit-transform":"translateY(-50%) rotate(45deg)","-ms-transform":"translateY(-50%) rotate(45deg)"}))
var i
0==n.easing?i="":jQuery.ui?i=n.easing:(i="",console.log("takeitover.js: JQUERY UI needed for easing options"))
n.contentSelector
t(document).on("click",n.elementSelector,function(e){var o=t(this),a=o.attr("data-target")
null==a?(a=n.contentSelector,a=o.next(a)):a=t(a),t("body").css({"overflow-y":"hidden",height:"100%"}),t(".takeitover-overlay").show().animate({opacity:1},n.speed),setTimeout(function(){1==n.closeButton&&t(".takeitover-closebtn").show().animate({opacity:1},n.speed/2),a.show(),a.animate({top:"0px",opacity:1},n.speed/2,i,function(){t.isFunction(n.callback)&&n.callback.call(this)})},n.speed/2),e.preventDefault()})
var a
return 1==n.clickOnOverlay&&(a=n.contentSelector,t(a).click(function(t){t.target!==this||o()})),1==n.closeButton&&t(document).on("click",".takeitover-closebtn",function(){o()}),this}}(jQuery)
