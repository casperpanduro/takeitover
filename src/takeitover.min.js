// Developed by Casper Panduro
!function(t){t.fn.takeitover=function(e){function o(){var e=t(i.contentSelector)
e.animate({top:"100px",opacity:0},i.speed/2,function(){t(this).hide()}),t(".takeitover-closebtn").animate({opacity:0},i.speed/2,function(){t(this).hide()}),setTimeout(function(){t("body").css({"overflow-y":"scroll",height:"auto"}),e.next(i.contentSelector).show(),t(".takeitover-overlay").animate({opacity:0},i.speed,function(){t(this).hide()})},i.speed/2)}t("body.takeitover-noscroll").css({"overflow-y":"hidden",height:"100%"})
var n=this,i=t.extend({speed:500,easing:!1,contentSelector:".takeitover-content",background:"rgba(255,255,255,0.95)",clickOnOverlay:!0,closeButton:!0,buttonColor:"black",before:null,callback:null},e)
t(n).css({cursor:"pointer"}),t(i.contentSelector).hide().css({position:"fixed",top:"100px",left:"0px",width:"100%",height:"100%","overflow-y":"scroll","z-index":999999,opacity:0,"-webkit-overflow-scrolling":"touch"}),t("body").append('<div class="takeitover-overlay" style="background: '+i.background+'"></div>'),t(".takeitover-overlay").css({position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",display:"none",opacity:"0","z-index":"99999"}),1==i.closeButton&&(t("body").append('<div class="takeitover-closebtn"><span class="first"></span><span class="last"></span></div>'),t(".takeitover-closebtn").css({position:"fixed",top:"30px",right:"30px","z-index":9999999,width:30,height:30,opacity:0,cursor:"pointer"}).hide(),t(".takeitover-closebtn span").eq(0).css({position:"absolute",top:"50%",left:"0px",height:"2px",width:"100%",display:"block",background:i.buttonColor,transform:"translateY(-50%) rotate(-45deg)","-webkit-transform":"translateY(-50%) rotate(-45deg)","-ms-transform":"translateY(-50%) rotate(-45deg)"}),t(".takeitover-closebtn span").eq(1).css({position:"absolute",top:"50%",left:"0px",height:"2px",width:"100%",display:"block",background:i.buttonColor,transform:"translateY(-50%) rotate(45deg)","-webkit-transform":"translateY(-50%) rotate(45deg)","-ms-transform":"translateY(-50%) rotate(45deg)"}))
var a
0==i.easing?a="":jQuery.ui?a=i.easing:(a="",console.log("takeitover.js: JQUERY UI needed for easing options"))
i.contentSelector
t(this).on("click",function(e){t.isFunction(i.before)&&i.before.call(this)
var o=t(this),n=o.attr("data-target")
null==n?(n=i.contentSelector,n=o.next(n)):n=t(n),t("body").css({"overflow-y":"hidden",height:"100%"}),t(".takeitover-overlay").show().animate({opacity:1},i.speed),setTimeout(function(){1==i.closeButton&&t(".takeitover-closebtn").show().animate({opacity:1},i.speed/2),n.show(),n.animate({top:"0px",opacity:1},i.speed/2,a,function(){t.isFunction(i.callback)&&i.callback.call(this)})},i.speed/2),e.preventDefault()})
var s
return 1==i.clickOnOverlay&&(s=i.contentSelector,t(s).click(function(t){t.target!==this||o()})),1==i.closeButton&&t(document).on("click",".takeitover-closebtn",function(){o()}),this}}(jQuery)