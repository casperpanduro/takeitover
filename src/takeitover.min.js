// Developed by Casper Panduro
!function(t){t.fn.takeitover=function(e){function o(){t.isFunction(a.closeFunction)&&a.closeFunction.call(this)
var e=t(a.contentSelector)
e.removeClass("active"),n.removeClass("active"),t(".takeitover-closebtn").animate({opacity:0},a.speed/2,function(){t(this).css({display:"none"})}),e.animate({top:"100px",opacity:0},a.speed/2,function(){}),setTimeout(function(){t("body").css({"overflow-y":"scroll",height:"auto"}),e.next(a.contentSelector).show(),t(".takeitover-overlay").animate({opacity:0},a.speed,function(){t(this).css({display:"none"})}),e.css({display:"none"})},a.speed/2)}t("body.takeitover-noscroll").css({"overflow-y":"hidden",height:"100%"})
var n=this,a=t.extend({speed:500,easing:!1,contentSelector:".takeitover-content",background:"rgba(255,255,255,0.95)",clickOnOverlay:!0,closeButton:!0,buttonColor:"black",before:null,callback:null,closeFunction:null},e)
t(n).css({cursor:"pointer"}),t(a.contentSelector).hide().css({position:"fixed",top:"100px",left:"0px",width:"100%",height:"100%","overflow-y":"scroll","z-index":999999,opacity:0,"-webkit-overflow-scrolling":"touch"}),t("body").append('<div class="takeitover-overlay" style="background: '+a.background+'"></div>'),t(".takeitover-overlay").css({position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px",display:"none",opacity:"0","z-index":"99999"}),1==a.closeButton&&(t("body").append('<div class="takeitover-closebtn"><span class="first"></span><span class="last"></span></div>'),t(".takeitover-closebtn").css({position:"fixed",top:"30px",right:"30px","z-index":9999999,width:30,height:30,opacity:0,cursor:"pointer"}).hide(),t(".takeitover-closebtn span").eq(0).css({position:"absolute",top:"50%",left:"0px",height:"2px",width:"100%",display:"block",background:a.buttonColor,transform:"translateY(-50%) rotate(-45deg)","-webkit-transform":"translateY(-50%) rotate(-45deg)","-ms-transform":"translateY(-50%) rotate(-45deg)"}),t(".takeitover-closebtn span").eq(1).css({position:"absolute",top:"50%",left:"0px",height:"2px",width:"100%",display:"block",background:a.buttonColor,transform:"translateY(-50%) rotate(45deg)","-webkit-transform":"translateY(-50%) rotate(45deg)","-ms-transform":"translateY(-50%) rotate(45deg)"}))
var s
s=0==a.easing?"":a.easing
var i=!1
a.contentSelector
0==i&&t(document).on("click",this.selector,function(e){var o=t(this)
o.addClass("active")
var n=o.attr("data-target")
null==n?(n=a.contentSelector,n=o.next(n)):n=t(n),n.addClass("active")
var c=this
i=!0,t.isFunction(a.before)&&a.before.call(this,c,n),t("body").css({"overflow-y":"hidden",height:"100%"}),t(".takeitover-overlay").show().animate({opacity:1},a.speed),setTimeout(function(){1==a.closeButton&&t(".takeitover-closebtn").show().animate({opacity:1},a.speed/2),n.show(),n.animate({top:"0px",opacity:1},a.speed/2,s,function(){t.isFunction(a.callback)&&a.callback.call(this,c,n)})},a.speed/2),e.preventDefault()})
var c
return 1==a.clickOnOverlay&&(c=a.contentSelector,t(c).click(function(t){t.target!==this||o()})),1==a.closeButton&&t(document).on("click",".takeitover-closebtn",function(t){o(),t.preventDefault()}),this}}(jQuery)
